<!--------------------------------------------------------------------------------->
<!-- IMPORTANT: This file is auto-generated by Driver (https://driver.ai). -------->
<!-- Manual edits may be overwritten on future commits. --------------------------->
<!--------------------------------------------------------------------------------->

The `square.h` file defines a `sq` struct for representing chessboard squares, along with functions for creating, indexing, and comparing these squares, as well as determining their color.

# Purpose
This C header file defines a structure and associated functions for handling chessboard squares. The `sq` struct represents a square on a chessboard using two `uint8_t` values for the file and rank, which are constrained to the range 1-8. The file provides utility functions to create squares from integer coordinates or Standard Algebraic Notation (SAN) strings, convert squares to and from a linear index (0-63), and retrieve the SAN string representation of a square. Additionally, it includes functions to determine if a square is dark-colored and to compare two squares for equality. The `SQ_INVALID` macro defines an invalid square with both file and rank set to -1, which is useful for error handling or initialization.
# Imports and Dependencies

---
- `stdint.h`


# Data Structures

---
### sq
- **Type**: `struct`
- **Members**:
    - `file`: Represents the file (column) of a square on a chessboard, ranging from 1 to 8.
    - `rank`: Represents the rank (row) of a square on a chessboard, ranging from 1 to 8.
- **Description**: The `sq` struct is a simple data structure used to represent a square on a chessboard, with two members: `file` and `rank`, both of which are 8-bit unsigned integers. These members correspond to the column and row of the square, respectively, and are constrained to values between 1 and 8, reflecting the standard 8x8 chessboard. This struct is used in various functions to create, manipulate, and compare chessboard squares, as well as to convert between different representations of squares, such as indices and SAN (Standard Algebraic Notation) strings.


# Function Declarations (Public API)

---
### sqI<!-- {{#callable_declaration:sqI}} -->
Creates a square from file and rank values.
- **Description**: This function constructs a square object using the provided file and rank values, which represent positions on a chessboard. It is useful when you need to create a square based on specific file and rank coordinates. The function expects both file and rank to be within the range of 1 to 8, inclusive. If either value is outside this range, the function returns a special invalid square constant, SQ_INVALID. This function is typically used in chess-related applications where board positions need to be represented programmatically.
- **Inputs**:
    - `file`: The file component of the square, representing the column on a chessboard. Valid values are from 1 to 8, inclusive. If the value is outside this range, the function returns SQ_INVALID.
    - `rank`: The rank component of the square, representing the row on a chessboard. Valid values are from 1 to 8, inclusive. If the value is outside this range, the function returns SQ_INVALID.
- **Output**: Returns a square object with the specified file and rank if both are valid; otherwise, returns SQ_INVALID.
- **See also**: [`sqI`](c_cpp_export_test/src/chesslib/square.c#callable:sqI)  (Implementation)


---
### sqS<!-- {{#callable_declaration:sqS}} -->
Creates a square from a SAN square string.
- **Description**: This function converts a string representing a square in Standard Algebraic Notation (SAN) into a `sq` struct. It expects a two-character string where the first character is a file ('a' to 'h') and the second character is a rank ('1' to '8'). If the input string does not conform to this format, the function returns `SQ_INVALID`. This function is useful for parsing chess moves or positions from SAN strings into a structured format. Ensure that the input string is not null and is properly formatted before calling this function.
- **Inputs**:
    - `str`: A pointer to a null-terminated string representing a square in SAN format. The string must be exactly two characters long, with the first character being a file ('a' to 'h') and the second character being a rank ('1' to '8'). The caller retains ownership of the string. If the string is not in the correct format, the function returns `SQ_INVALID`.
- **Output**: Returns a `sq` struct representing the square if the input is valid, or `SQ_INVALID` if the input is invalid.
- **See also**: [`sqS`](c_cpp_export_test/src/chesslib/square.c#callable:sqS)  (Implementation)


---
### sqIndex<!-- {{#callable_declaration:sqIndex}} -->
Converts an index to a square representation.
- **Description**: This function converts a given index, representing a position on a chessboard, into a square structure. It is useful for translating between a linear index and a two-dimensional board representation. The function expects an index in the range of 0 to 63, where 0 corresponds to the square 'a1' and 63 corresponds to 'h8'. If the index is outside this range, the function returns a special invalid square constant. This function is typically used in applications dealing with chessboard representations where positions are indexed linearly.
- **Inputs**:
    - `index`: An unsigned 8-bit integer representing the position on a chessboard, expected to be in the range 0 to 63. If the index is outside this range, the function returns an invalid square.
- **Output**: Returns a square structure corresponding to the given index, or an invalid square if the index is out of range.
- **See also**: [`sqIndex`](c_cpp_export_test/src/chesslib/square.c#callable:sqIndex)  (Implementation)


---
### sqGetIndex<!-- {{#callable_declaration:sqGetIndex}} -->
Converts a square to its corresponding index on a chessboard.
- **Description**: This function calculates the zero-based index of a given square on a chessboard, where the index ranges from 0 to 63. It is useful for mapping a square's file and rank to a single linear index, which can be used in array representations of a chessboard. The function expects the square's file and rank to be within the range of 1 to 8, inclusive. If the square's file or rank is outside this range, the function returns -1, indicating an invalid square.
- **Inputs**:
    - `s`: A square structure containing 'file' and 'rank' fields, both of which must be in the range 1 to 8. If either field is outside this range, the function returns -1.
- **Output**: Returns a uint8_t representing the zero-based index of the square on a chessboard, or -1 if the square is invalid.
- **See also**: [`sqGetIndex`](c_cpp_export_test/src/chesslib/square.c#callable:sqGetIndex)  (Implementation)


---
### sqGetStr<!-- {{#callable_declaration:sqGetStr}} -->
Returns the SAN string representation of a given square.
- **Description**: Use this function to obtain the Standard Algebraic Notation (SAN) string for a given square. This function is useful when you need a human-readable representation of a square on a chessboard. The input square must be valid, with an index between 0 and 63, inclusive. If the square index is out of this range, the function returns a placeholder string "##" indicating an invalid square. The returned string does not need to be freed by the caller.
- **Inputs**:
    - `s`: A square structure representing a position on a chessboard. The square must be valid, with an index between 0 and 63. If the square is invalid, the function returns "##".
- **Output**: A pointer to a constant character string representing the SAN of the square, or "##" if the square is invalid.
- **See also**: [`sqGetStr`](c_cpp_export_test/src/chesslib/square.c#callable:sqGetStr)  (Implementation)


---
### sqIsDark<!-- {{#callable_declaration:sqIsDark}} -->
Determine if a chessboard square is dark-colored.
- **Description**: Use this function to check whether a given chessboard square is dark-colored. This is useful in applications where the color of the square affects gameplay or display logic. The function expects a valid square structure with file and rank values in the range of 1 to 8. It returns 1 if the square is dark and 0 if it is light. Ensure that the square provided is valid, as the behavior for invalid squares is not defined.
- **Inputs**:
    - `s`: A square structure representing a chessboard square, with 'file' and 'rank' fields both expected to be in the range 1 to 8. The caller must ensure the square is valid, as invalid values may lead to undefined behavior.
- **Output**: Returns 1 if the square is dark-colored, and 0 if it is light-colored.
- **See also**: [`sqIsDark`](c_cpp_export_test/src/chesslib/square.c#callable:sqIsDark)  (Implementation)


---
### sqEq<!-- {{#callable_declaration:sqEq}} -->
Compares two chessboard squares for equality.
- **Description**: Use this function to determine if two chessboard squares, represented by the `sq` struct, are equal in terms of their file and rank. This function is useful when you need to check if two positions on a chessboard are the same. It handles invalid square values by setting them to a predefined invalid state before comparison. Ensure that the `file` and `rank` values of the `sq` structs are within the valid range of 1 to 8 before calling this function to avoid them being marked as invalid.
- **Inputs**:
    - `s1`: The first square to compare, represented as an `sq` struct. The `file` and `rank` must be in the range 1 to 8. If out of range, it is treated as invalid.
    - `s2`: The second square to compare, represented as an `sq` struct. The `file` and `rank` must be in the range 1 to 8. If out of range, it is treated as invalid.
- **Output**: Returns 1 if the squares are equal (same file and rank), or 0 if they are not.
- **See also**: [`sqEq`](c_cpp_export_test/src/chesslib/square.c#callable:sqEq)  (Implementation)



---
Made with ❤️ by [Driver](https://www.driver.ai/)